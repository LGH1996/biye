C51 COMPILER V9.59.0.0   QQQQQQQQQQ                                                        05/09/2020 13:53:07 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE QQQQQQQQQQ
OBJECT MODULE PLACED IN .\Objects\qqqqqqqqqq.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE qqqqqqqqqq.c LARGE OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\L
                    -istings\qqqqqqqqqq.lst) TABS(2) OBJECT(.\Objects\qqqqqqqqqq.obj)

line level    source

   1          #include <reg52.h>
   2          #include <intrins.h>
   3          #include <stdio.h>
   4          #include <string.h>
   5          
   6          #define uchar unsigned char
   7          sbit P2_1 = P2^1;
   8          bit a =0;
   9          void delay(unsigned int i)
  10          {
  11   1        unsigned int n;
  12   1        for (n = 0; n < i; n++)
  13   1        {
  14   2          _nop_();
  15   2        }
  16   1      }
  17          
  18          void sendData(uchar str[], uchar lenth)
  19          {
  20   1        unsigned int n;
  21   1        for (n = 0; n < lenth; n++)
  22   1        {
  23   2          SBUF = str[n];
  24   2          while (TI == 0)
  25   2            ;
  26   2          TI = 0;
  27   2        }
  28   1      }
  29          
  30          void external_0() interrupt 0 using 2 //外部中断INT0的中断函数，语音模块音量加1
  31          {
  32   1        a =1;
  33   1      }
  34          
  35          void main(){
  36   1      
  37   1        EA = 1;
  38   1      
  39   1        TR1 = 1; //开T1定时器，作为串口的波特率发生器
  40   1        TMOD |= 0x20;
  41   1        TL1 = 0xFD;
  42   1        TH1 = 0xFD;
  43   1      
  44   1        SM0 = 0; //串口初始化
  45   1        SM1 = 1;
  46   1        REN = 1;
  47   1        
  48   1        EX0 = 1; //开外部中断INT0和INT1
  49   1        IT0 = 1;
  50   1        
  51   1        while(1){
  52   2          if(a){
  53   3            uchar  shut[]="AT+CIPSHUT\n", cgatt[]="AT+CGATT?\n", cstt[]="AT+CSTT=\"CMNET\"\n",ciicr[]="AT+CIICR\n",
             -cifsr[]="AT+CIFSR\n",start[]="AT+CIPSTART=\"TCP\",\"120.78.203.170\",\"12777\"\n",send[]="AT+CIPSEND\n",end[1] = {0x1A},
C51 COMPILER V9.59.0.0   QQQQQQQQQQ                                                        05/09/2020 13:53:07 PAGE 2   

             -close[]="AT+CIPCLOSE\n";
  54   3            P2_1 =0;
  55   3            sendData(shut,sizeof(shut)/sizeof(shut[0]));
  56   3            delay(5000);
  57   3            sendData(cgatt,sizeof(cgatt)/sizeof(cgatt[0]));
  58   3            delay(5000);
  59   3            sendData(cstt,sizeof(cstt)/sizeof(cstt[0]));
  60   3            delay(10000);;
  61   3            sendData(ciicr,sizeof(ciicr)/sizeof(ciicr[0]));
  62   3            delay(10000);
  63   3            sendData(cifsr,sizeof(cifsr)/sizeof(cifsr[0]));
  64   3            delay(5000);
  65   3            sendData(start,sizeof(start)/sizeof(start[0]));
  66   3            delay(50000);
  67   3            delay(50000);
  68   3            delay(50000);
  69   3            delay(50000);
  70   3            delay(50000);
  71   3            delay(50000);
  72   3            delay(50000);
  73   3            delay(50000);
  74   3            delay(50000);
  75   3            delay(50000);
  76   3            delay(50000);
  77   3            delay(50000);
  78   3            delay(50000);
  79   3            delay(50000);
  80   3            delay(50000);
  81   3            delay(50000);
  82   3            delay(50000);
  83   3            delay(50000);
  84   3            delay(50000);
  85   3            delay(50000);
  86   3            sendData(send,sizeof(send)/sizeof(send[0]));
  87   3            delay(5000);
  88   3            sendData("AAABB",5);
  89   3            delay(5000);
  90   3            sendData(end,1);
  91   3            delay(5000);
  92   3            sendData(close,sizeof(close)/sizeof(close[0]));
  93   3            P2_1 = 1;
  94   3            a =0;
  95   3          }
  96   2        }
  97   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    494    ----
   CONSTANT SIZE    =    136    ----
   XDATA SIZE       =   ----     134
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      1    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
