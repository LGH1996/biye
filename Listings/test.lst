C51 COMPILER V9.59.0.0   TEST                                                              04/15/2020 12:38:11 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE TEST
OBJECT MODULE PLACED IN .\Objects\test.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE test.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings\test
                    -.lst) TABS(2) OBJECT(.\Objects\test.obj)

line level    source

   1          #include<reg52.h>
   2          #include<intrins.h>
   3          #include<stdio.h>
   4          
   5          sbit rw = P2^2;
   6          sbit rs = P2^0;
   7          sbit e = P2^1;
   8          sbit P1_7 =P1^7;
   9          char a='A';
  10          void delay(unsigned int i){
  11   1        int a;
  12   1        for(a =0;a<i;a++){
  13   2        _nop_();
  14   2        }
  15   1      }
  16          void write_com(unsigned char com){
  17   1      rs =0;
  18   1        rw =0;
  19   1      P3 = com;
  20   1      delay(10);
  21   1      e =  1;
  22   1      delay(10);
  23   1      e = 0;  
  24   1      }
  25          
  26          void write_data(unsigned char str){
  27   1      rs = 1;
  28   1        rw =0;
  29   1        P3 = str;
  30   1        delay(10);
  31   1        e = 1;
  32   1        delay(10);
  33   1        e =0;
  34   1      }
  35          
  36          void time2() interrupt 5{
  37   1        
  38   1        if(EXF2 == 1){
  39   2        unsigned int s;
  40   2        write_com(0x80+0x00);
  41   2        write_data(++a);
  42   2        write_com(0x80+0x40);
  43   2        s = (TH2<<8)|TL2;
  44   2        write_data(s/10000+48);
  45   2        write_data((s%10000)/1000+48);
  46   2        write_data((s%1000)/100+48);
  47   2        write_data((s%100)/10+48);
  48   2        write_data(s%10+48);
  49   2        
  50   2        }
  51   1        }
  52          
  53          void main(){
  54   1        EA = 1;
C51 COMPILER V9.59.0.0   TEST                                                              04/15/2020 12:38:11 PAGE 2   

  55   1        ET2 = 1;
  56   1        EXEN2 =1;
  57   1        TR2=1;
  58   1        CP_RL2 =1;
  59   1        
  60   1        write_com(0x38);
  61   1        write_com(0x0c);
  62   1        write_com(0x06);
  63   1        write_data(a);
  64   1        while(1){
  65   2          delay(10000);
  66   2        P1_7 = !P1_7;
  67   2        
  68   2        }
  69   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    248    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      1       2
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
